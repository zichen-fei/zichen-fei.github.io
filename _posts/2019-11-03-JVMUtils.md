---
layout: post
title: JVM常用工具
date: 2019-11-02
tags: Java
---

### **jps 虚拟机进程状况工具**

命令格式

```
jps [ options ] [ hostid ]

jps -l
```

jps可以通过RMI协议查询开启了RMI服务的远程虚拟机进程状态，hostid为RMI注册表中注册的主机名

其他选项

![](/images/posts/JVMUtils/jps.png)

### **jstat 虚拟机统计信息监视工具**

可以显示本地或者远程虚拟机进程中的类装载、内存、垃圾收集、JIT编译等运行数据

命令格式

```
jstat [ option vmid [interval[s|ms] [count]] ]
```

如果是本地虚拟机进程，VMID与LVMID是一致的，如果是远程虚拟机进程，那VMID的格式应当是

```
[protocol:][//]lvmid[@hostname[:port]/servername]
```

参数interval和count代表查询间隔和次数，如果省略这两个参数，说明只查询一次。
假设需要每250毫秒查询一次进程2764垃圾收集状况，一共查询20次，那命令应当是：

```
jstat -gc pid 250 20
```

